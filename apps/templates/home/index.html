{% extends 'layouts/base-travel.html' %}
{% load crispy_forms_filters %}
{% load crispy_forms_tags %}
{% block title %} Index {% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}
    	<link type="text/css" rel="stylesheet" href="../../static/assets/css/travel_style.css" />

{% endblock stylesheets %}

{% block body_class %} index-page {% endblock body_class %}

{% block content %}

  <header class="header-2">
    <div class="page-header section-height-75 relative" style="background-image: url('../../static/assets/img/main_background.jpg')">
      <div class="position-absolute w-100 z-index-1 bottom-0">
        <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 40" preserveAspectRatio="none" shape-rendering="auto">
          <defs>
            <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
          </defs>
          <g class="moving-waves">
            <use xlink:href="#gentle-wave" x="48" y="-1" fill="rgba(255,255,255,0.40"></use>
            <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(255,255,255,0.35)"></use>
            <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(255,255,255,0.25)"></use>
            <use xlink:href="#gentle-wave" x="48" y="8" fill="rgba(255,255,255,0.20)"></use>
            <use xlink:href="#gentle-wave" x="48" y="13" fill="rgba(255,255,255,0.15)"></use>
            <use xlink:href="#gentle-wave" x="48" y="16" fill="rgba(255,255,255,0.95"></use>
          </g>
        </svg>
      </div>
        <div class="container">
				<div class="row">
					<div class="booking-form">
						<form method="post" action="" autocomplete="off">
                            {% csrf_token %}

							<div class="row">
                            {{ form|crispy }}
								<div class="col-md-4">
									<div class="form-group">
										<span class="form-label">Where?</span>
										<span class="form-label">Destination</span>
										<input class="form-control" id="travel_from" type="text" placeholder="Enter destination (country, region, or city)" name="destination" required>
									</div>
								</div>

								<div class="col-md-3">
									<div class="form-group">
										<span class="form-label">When?</span>
										<span class="form-label">Start</span>
										<input class="form-control" type="date" name="start_date" required>
									</div>
								</div>

								<div class="col-md-3">
									<div class="form-group">
										<span class="form-label"> </span>
										<span class="form-label">End</span>
										<input class="form-control" type="date" name="end_date" required>
									</div>
								</div>

								<div class="col-md-2">
									<div class="form-group">
										<span class="form-label">Who?</span>
										<span class="form-label">Adults (18+)</span>
										<select class="form-control" name="travelers" required>
											<option disabled selected value>Select an option</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
										</select>
										<span class="select-arrow"></span>
									</div>
								</div>

								<div class="col-md-8">
									<span class="form-label">What?</span>
									<div class="form-checkbox">
										<label>
											<input type="checkbox" name="culture">
											<span></span>Culture
										</label>
										<label>
											<input type="checkbox" name="outdoors">
											<span></span>Outdoors
										</label>
										<label >
											<input type="checkbox" name="beaches">
											<span></span>Beaches
										</label>
										<label>
											<input type="checkbox" name="shopping">
											<span></span>Shopping
										</label>
										<label>
											<input type="checkbox" name="museums">
											<span></span>Museums
										</label>
										<label >
											<input type="checkbox" name="restaurants">
											<span></span>Restaurants
										</label>
									</div>
								</div>

								<div class="col-md-2">
									<div class="form-btn">
                                        <input type="submit" name="See your trip" class="submit-btn btn btn-sm bg-gradient-secondary btn-round">
									</div>
								</div>
							</div>

						</form>
					</div>
				</div>
			</div>
    </div>

  </header>


        <div class="container" >

        <!-- Title -->
        {% if travel %}

            {% for obj in travel %}
                <br/><br/>
                <h1>{{ obj.user }} </h1>
                 <br/><br/>
                <h1>{{ obj.destination }} </h1>
                <br/><br/>
                <h1>{{ obj.start_date }} </h1>
                <br/><br/>
                <h1>{{ obj.end_date }} </h1>
                <br/><br/>
                <h1>culture = {{ obj.category.culture }} </h1>
                <h1>beaches = {{ obj.category.beaches }} </h1>
                <h1>outdoors = {{ obj.category.outdoors }} </h1>
                <h1>shopping = {{ obj.category.shopping }} </h1>
                <h1>museums = {{ obj.category.museums }} </h1>
                <h1>restaurants = {{ obj.category.restaurants }} </h1>
            {% endfor %}
        {% endif %}

    </div>
{% endblock content %}

<!-- Specific JS goes HERE -->
{% block javascripts %}

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA3L3Q5rCMHsMgixN6s6x9Y7vaSOHLSoJ4&libraries=places&callback=initMap" defer></script>

<script>


    function initMap() {

        var input_from = document.getElementById('travel_from');

        var autocomplete_from = new google.maps.places.Autocomplete(input_from);

        google.maps.event.addDomListener(input_from, 'keydown', function(e) {
            if (e.keyCode == 13 && $('.pac-container:visible').length) {
                e.preventDefault();
            }
        });
    }


</script>
{% endblock javascripts %}
